diff --git a/kcms/ksmserver/kcmsmserver.cpp b/kcms/ksmserver/kcmsmserver.cpp
index fd8af00..6d963b6 100644
--- a/kcms/ksmserver/kcmsmserver.cpp
+++ b/kcms/ksmserver/kcmsmserver.cpp
@@ -72,12 +72,8 @@ void SMServerConfig::load()
   dialog->sdGroup->setEnabled(en);
 
   QString s = c.readEntry( "loginMode" );
-  if ( s == QStringLiteral("default") )
-      dialog->emptySessionRadio->setChecked(true);
-  else if ( s == QStringLiteral("restoreSavedSession") )
-      dialog->savedSessionRadio->setChecked(true);
-  else // "restorePreviousLogout"
-      dialog->previousSessionRadio->setChecked(true);
+  dialog->emptySessionRadio->setChecked(true);
+  dialog->emptySessionRadio->setEnabled(false);
 
   switch (c.readEntry("shutdownType", int(KWorkSpace::ShutdownTypeNone))) {
   case int(KWorkSpace::ShutdownTypeHalt):
@@ -90,7 +86,6 @@ void SMServerConfig::load()
     dialog->logoutRadio->setChecked(true);
     break;
   }
-  dialog->excludeLineedit->setText( c.readEntry("excludeApps"));
 
   emit changed(false);
 }
@@ -104,8 +99,6 @@ void SMServerConfig::save()
   QString s = QStringLiteral("restorePreviousLogout");
   if ( dialog->emptySessionRadio->isChecked() )
       s = QStringLiteral("default");
-  else if ( dialog->savedSessionRadio->isChecked() )
-      s = QStringLiteral("restoreSavedSession");
   group.writeEntry( "loginMode", s );
 
   group.writeEntry( "shutdownType",
@@ -114,7 +107,6 @@ void SMServerConfig::save()
                    dialog->rebootRadio->isChecked() ?
                      int(KWorkSpace::ShutdownTypeReboot) :
                      int(KWorkSpace::ShutdownTypeNone));
-  group.writeEntry("excludeApps", dialog->excludeLineedit->text());
   c.sync();
 # if 0
   // update the k menu if necessary
@@ -125,12 +117,10 @@ void SMServerConfig::save()
 
 void SMServerConfig::defaults()
 {
-  dialog->previousSessionRadio->setChecked(true);
   dialog->confirmLogoutCheck->setChecked(true);
   dialog->offerShutdownCheck->setChecked(true);
   dialog->sdGroup->setEnabled(true);
   dialog->logoutRadio->setChecked(true);
-  dialog->excludeLineedit->clear();
 }
 
 #include "kcmsmserver.moc"
diff --git a/kcms/ksmserver/smserverconfigdlg.ui b/kcms/ksmserver/smserverconfigdlg.ui
index 15a4d1c..1b2548e 100644
--- a/kcms/ksmserver/smserverconfigdlg.ui
+++ b/kcms/ksmserver/smserverconfigdlg.ui
@@ -84,46 +84,12 @@
      </property>
      <layout class="QVBoxLayout" name="verticalLayout">
       <item>
-       <widget class="QRadioButton" name="previousSessionRadio">
-        <property name="text">
-         <string>Restore &amp;previous session</string>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QRadioButton" name="savedSessionRadio">
-        <property name="text">
-         <string>Restore &amp;manually saved session</string>
-        </property>
-       </widget>
-      </item>
-      <item>
        <widget class="QRadioButton" name="emptySessionRadio">
         <property name="text">
          <string>Start with an empty &amp;session</string>
         </property>
        </widget>
       </item>
-      <item>
-       <widget class="QLabel" name="textLabel1">
-        <property name="text">
-         <string>Applications to be e&amp;xcluded from sessions:</string>
-        </property>
-        <property name="wordWrap">
-         <bool>false</bool>
-        </property>
-        <property name="buddy">
-         <cstring>excludeLineedit</cstring>
-        </property>
-       </widget>
-      </item>
-      <item>
-       <widget class="QLineEdit" name="excludeLineedit">
-        <property name="whatsThis">
-         <string>Here you can enter a colon or comma separated list of applications that should not be saved in sessions, and therefore will not be started when restoring a session. For example 'xterm:konsole' or 'xterm,konsole'.</string>
-        </property>
-       </widget>
-      </item>
      </layout>
     </widget>
    </item>
@@ -142,12 +108,6 @@
    </item>
   </layout>
  </widget>
- <customwidgets>
-  <customwidget>
-   <class>QLineEdit</class>
-   <header>qlineedit.h</header>
-  </customwidget>
- </customwidgets>
  <resources/>
  <connections>
   <connection>
diff --git a/kcms/ksmserver/smserverconfigimpl.cpp b/kcms/ksmserver/smserverconfigimpl.cpp
index 93adf9c..6a4c532 100644
--- a/kcms/ksmserver/smserverconfigimpl.cpp
+++ b/kcms/ksmserver/smserverconfigimpl.cpp
@@ -19,13 +19,10 @@
 
 SMServerConfigImpl::SMServerConfigImpl(QWidget *parent ) : SMServerConfigDlg(parent) {
     connect(confirmLogoutCheck,SIGNAL(toggled(bool)), SLOT(configChanged()));
-    connect(previousSessionRadio,SIGNAL(toggled(bool)), SLOT(configChanged()));
-    connect(savedSessionRadio,SIGNAL(toggled(bool)), SLOT(configChanged()));
     connect(emptySessionRadio,SIGNAL(toggled(bool)), SLOT(configChanged()));
     connect(logoutRadio,SIGNAL(toggled(bool)), SLOT(configChanged()));
     connect(haltRadio,SIGNAL(toggled(bool)), SLOT(configChanged()));
     connect(rebootRadio,SIGNAL(toggled(bool)), SLOT(configChanged()));
-    connect(excludeLineedit,SIGNAL(textChanged(QString)),SLOT(configChanged()));
     connect(offerShutdownCheck,SIGNAL(toggled(bool)),SLOT(configChanged()));
 }
 SMServerConfigImpl::~SMServerConfigImpl(){
